# encoding: utf8
import requests
from bs4 import BeautifulSoup

iplist = [
    '101.4.136.34:81',
    '42.81.11.49:8080',
    '49.140.238.196:8998',
    '88.202.182.142:8080',
    '219.127.253.43:80',
    '213.32.113.245:24631',
    '42.81.11.22:8080',
    '94.19.39.81:3128',
    '222.33.192.238:8118',
    '35.162.127.244:80',
    '222.179.210.94:8081',
    '218.86.128.110:8118',
    '182.74.200.201:80',
    '106.14.226.108:80',
    '223.89.110.88:8998',
    '223.88.228.101:8118',
    '37.187.208.11:3128',
    '138.68.133.47:8118',
    '221.227.104.253:8081',
    '79.143.86.92:8080',
    '138.68.178.68:8118',
    '212.114.99.36:80',
    '218.201.98.196:3128',
    '109.236.113.30:8080',
    '220.202.157.86:8998',
    '220.182.51.123:8081',
    '178.62.96.112:8118',
    '1.82.132.85:8080',
    '217.174.227.10:3128',
    '218.3.75.182:9000',
    '115.220.5.100:808',
    '119.5.217.156:808',
    '119.5.1.7:808',
    '115.213.251.29:808',
    '120.84.103.37:808',
    '180.250.8.2:8080',
    '115.220.7.247:808',
    '103.82.164.26:3128',
    '222.85.39.137:808',
    '121.78.182.47:8080',
    '192.241.176.181:8080',
    '60.178.85.147:808',
    '202.154.191.179:8080',
    '218.64.93.166:808',
    '159.203.37.37:3128',
    '115.220.147.161:808',
    '36.6.57.103:808',
    '180.118.240.17:808',
    '45.32.26.246:3128',
    '183.161.220.184:8998',
    '183.32.88.167:808',
    '110.73.182.12:9000',
    '114.239.148.152:808',
    '187.189.195.87:3128',
    '202.136.89.162:8080',
    '104.224.10.21:8080',
    '58.56.92.18:8888',
    '116.27.235.29:8998',
    '222.85.50.160:808',
    '139.59.102.243:8080',
    '163.121.188.2:8080',
    '221.229.45.198:808',
    '115.197.9.226:8998',
    '139.59.224.107:8080',
    '113.88.178.211:8088',
    '125.89.121.183:808',
    '114.239.144.240:808',
    '182.253.40.107:8080',
    '113.58.234.234:808',
    '125.167.97.18:8080',
    '115.220.145.228:808',
    '138.59.176.67:8080',
    '59.62.83.242:808',
    '139.59.184.5:8080',
    '180.118.240.167:808',
    '115.220.147.174:808',
    '36.56.5.9:8998',
    '115.220.148.181:808',
    '84.242.196.13:8080',
    '58.45.228.115:8998',
    '210.71.135.35:3128',
    '14.109.96.205:8998',
    '115.220.147.193:808',
    '1.206.206.136:8998',
    '176.237.91.246:8080',
    '222.220.152.59:8998',
    '67.205.171.34:8080',
    '89.169.135.213:8081',
    '220.179.219.130:808',
    '37.57.179.2:8080',
    '119.5.1.12:808',
    '115.212.63.59:808',
    '163.121.188.3:8080',
    '175.155.140.45:808',
    '218.56.132.156:8080',
    '182.101.8.50:8998',
    '182.88.190.20:8123',
    '116.10.104.208:8998',
    '223.223.152.160:8080',
    '49.73.25.217:8998',
    '114.230.120.51:808',
    '188.167.177.126:80',
    '46.48.15.110:9999',
    '218.64.92.111:808',
    '110.87.5.98:808',
    '175.155.246.214:808',
    '183.161.218.205:8998',
    '175.155.245.196:808',
    '221.229.44.107:808',
    '115.202.245.59:808',
    '218.249.154.66:8081',
    '113.69.62.131:808',
    '222.85.50.73:808',
    '113.93.185.1:808',
    '91.247.107.174:8080',
    '180.110.6.164:808',
    '175.155.24.12:808',
    '191.241.36.218:3128',
    '123.169.88.213:808',
    '115.215.208.119:8118',
    '175.155.136.140:808',
    '119.48.180.75:8118',
    '119.7.72.61:808',
    '141.196.78.218:8080',
    '60.178.167.191:8998',
    '122.155.3.143:3128',
    '125.89.121.77:808',
    '182.200.56.238:8118',
    '46.101.44.66:8080',
    '162.243.18.46:3128'
]

def getListProxies():

    proxyList = []

    for ip in iplist:

        proxy = {
            'http' : ip,
            'https': ip
        }

        url = "https://www.baidu.com/"
        try:
            requests.get(url, proxies=proxy, timeout=3)
            proxyList.append(ip)
            print ip, 'good'

        except Exception, e:
            print ip, 'bad'
            continue

    return proxyList